# EduPulse 项目实施计划

## 项目概述

EduPulse 是一个基于 Django 的艺术学校管理系统，用于替代 Perth Art School 当前的 MindBody 系统。

## 技术架构

### 后端技术栈
- **框架**: Django 5.x (最新版)
- **数据库**: SQLite (开发环境)
- **API**: Django REST Framework
- **认证**: Django 内置认证系统
- **邮件服务**: Amazon SES
- **短信服务**: Twilio
- **虚拟环境**: .venv
- **环境变量**: python-dotenv

### 前端技术栈  
- **CSS 框架**: Bootstrap 5
- **JavaScript**: jQuery 3.6+
- **样式**: 自定义主题色彩
- **代码组织**: 分离的 CSS/JS 文件，避免内联代码

### 部署环境
- **域名**: https://edupulse.perthartschool.com.au/
- **生产服务器**: Ubuntu Server
- **Web服务器**: Nginx
- **WSGI服务器**: Gunicorn
- **支付**: 银行转账/线下支付 (避免支付网关费用)

## MVP 阶段实施计划

### 第一阶段：项目基础搭建 (3-4 天)

#### 1.1 环境设置
- [x] 创建虚拟环境 (.venv)
- [x] 安装 Django 5.x 和依赖
- [x] 配置 .env 文件和 python-dotenv
- [x] 创建 requirements.txt

#### 1.2 Django 项目初始化
- [x] 创建 Django 项目和基础应用
- [x] 设置项目配置文件 (settings.py)
- [x] 配置静态文件处理
- [x] 设置基础 URL 路由

#### 1.3 前端框架配置
- [ ] 集成 Bootstrap 5
- [ ] 配置自定义主题色彩
- [ ] 设置 jQuery 库
- [ ] 创建基础模板结构
- [ ] 实现响应式导航栏

### 第二阶段：数据库设计与模型 (4-5 天)

#### 2.1 核心数据模型
- [ ] **设施模型**: Facility  
- [ ] **教室模型**: Classroom
- [ ] **员工模型**: Staff (扩展 Django User)
- [ ] **学生模型**: Student (包含监护人信息)

#### 2.2 课程管理模型
- [ ] **课程模型**: Course
- [ ] **班级模型**: Class  
- [ ] **报名模型**: Enrollment
- [ ] **考勤模型**: Attendance
- [ ] **打卡模型**: ClockInOut

#### 2.3 通信模型
- [ ] **邮件记录模型**: EmailLog
- [ ] **短信记录模型**: SMSLog
- [ ] 数据库迁移和初始化数据

### 第三阶段：核心功能开发 (8-10 天)

#### 3.1 设施教室管理
- [ ] 设施管理 CRUD 操作
- [ ] 教室管理和可用性检查
- [ ] 教室预订冲突检测

#### 3.2 员工管理系统
- [ ] 员工信息管理界面
- [ ] 角色权限控制 (管理员/教师)
- [ ] 员工状态管理

#### 3.3 打卡系统
- [ ] QR 码生成和扫描功能
- [ ] GPS 位置验证
- [ ] 上下班打卡记录
- [ ] 工时统计和 Excel 导出

#### 3.4 学生管理系统
- [ ] 学生信息 CRUD 操作
- [ ] 监护人信息管理
- [ ] 推荐关系追踪
- [ ] 学生状态管理

### 第四阶段：课程与报名管理 (7-8 天)

#### 4.1 课程管理
- [ ] 课程创建和编辑界面
- [ ] 课程排程设置 (单次/多次)
- [ ] 教师和教室分配
- [ ] 课程容量管理

#### 4.2 班级管理  
- [ ] 从课程自动生成班级
- [ ] 班级时间和教室调整
- [ ] 临时教师更换功能

#### 4.3 报名系统
- [ ] 在线报名表单
- [ ] 报名状态管理
- [ ] 报名来源跟踪
- [ ] 自动确认邮件

### 第五阶段：考勤与通知系统 (5-6 天)

#### 5.1 考勤管理
- [ ] 教师考勤录入界面
- [ ] 学生出勤状态记录
- [ ] 考勤报表生成
- [ ] 缺勤自动通知

#### 5.2 通知系统
- [ ] Amazon SES 邮件服务集成
- [ ] Twilio 短信服务集成  
- [ ] 自动化通知模板
- [ ] 通知日志记录

### 第六阶段：API 与网站同步 (6-7 天)

#### 6.1 WooCommerce API 集成
- [ ] 课程信息同步 API
- [ ] 报名状态同步
- [ ] 双向数据同步机制
- [ ] 错误处理和重试机制

#### 6.2 外部集成
- [ ] 支付状态回调处理
- [ ] 网站重定向配置
- [ ] 数据一致性检查

### 第七阶段：系统优化与测试 (5-6 天)

#### 7.1 用户界面优化
- [ ] 响应式设计完善
- [ ] 用户体验改进
- [ ] 表单验证优化
- [ ] 错误处理改进

#### 7.2 系统测试
- [ ] 单元测试编写
- [ ] 集成测试
- [ ] API 测试
- [ ] 用户验收测试

#### 7.3 生产部署配置
- [ ] Ubuntu Server 环境配置
- [ ] Gunicorn + Nginx 配置
- [ ] SSL 证书配置
- [ ] 数据备份策略
- [ ] 监控和日志配置

## 进度里程碑

| 里程碑 | 预计完成时间 | 主要交付物 |
|--------|-------------|------------|
| 项目基础 | 第 1 周 | Django 项目框架、前端基础 |
| 数据模型 | 第 2 周 | 完整数据库设计、模型定义 |
| 核心功能 | 第 4 周 | 员工、学生、打卡系统 |
| 课程管理 | 第 6 周 | 课程、班级、报名系统 |
| 通知系统 | 第 7 周 | 考勤、邮件、短信功能 |
| API 集成 | 第 8 周 | WooCommerce 同步功能 |
| 测试部署 | 第 9 周 | 完整系统测试、生产部署 |

## 开发注意事项

### 代码质量标准
- 遵循 Django 最佳实践
- 使用中文注释说明复杂逻辑
- 保持代码模块化和可维护性
- 避免内联 CSS/JS，保持代码整洁

### 安全考虑
- 用户输入验证和消毒
- CSRF 保护
- SQL 注入防护
- 敏感数据加密存储

### 性能优化
- 数据库查询优化
- 静态文件压缩
- 缓存策略实施
- 分页处理大数据量

## 后续扩展计划

1. **报表分析模块**: 学生统计、收入分析、课程使用率
2. **移动端应用**: 教师和学生专用 App
3. **高级通信功能**: 教师-学生直接沟通
4. **评分系统**: 双向评价功能
5. **在线支付集成**: 未来可选的在线支付功能

## 风险评估

| 风险 | 影响程度 | 应对策略 |
|------|----------|----------|
| WooCommerce API 变更 | 中 | 建立灵活的 API 适配层 |
| 第三方服务中断 | 中 | 设计降级机制和备用方案 |
| 数据迁移复杂性 | 高 | 制定详细迁移计划和回滚策略 |
| 用户接受度 | 中 | 提供充分培训和过渡期支持 |

---

*最后更新时间: 2025-08-24*
*版本: v1.0*